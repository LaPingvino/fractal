<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <template class="AccountSwitcherButton" parent="GtkToggleButton">
    <signal name="toggled" handler="toggle_popover" swapped="yes"/>
    <binding name="visible">
      <closure type="gboolean" function="invert_boolean">
        <closure type="gboolean" function="guint_is_zero">
          <lookup name="n-items" type="GtkSingleSelection">
            <lookup name="session-selection" type="Window">
              <lookup name="root">AccountSwitcherButton</lookup>
            </lookup>
          </lookup>
        </closure>
      </closure>
    </binding>
    <binding name="tooltip-text">
      <lookup name="user-id-string" type="SessionInfo">
        <lookup name="selected-item" type="GtkSingleSelection">
          <lookup name="session-selection" type="Window">
            <lookup name="root">AccountSwitcherButton</lookup>
          </lookup>
        </lookup>
      </lookup>
    </binding>
    <accessibility>
      <property name="description" translatable="yes">Switch Accounts</property>
      <property name="has-popup">True</property>
    </accessibility>
    <style>
      <class name="image-button"/>
      <class name="circular"/>
    </style>
    <property name="child">
      <object class="Avatar">
        <property name="size">24</property>
        <binding name="data">
          <lookup name="avatar-data" type="SessionInfo">
            <lookup name="selected-item" type="GtkSingleSelection">
              <lookup name="session-selection" type="Window">
                <lookup name="root">AccountSwitcherButton</lookup>
              </lookup>
            </lookup>
          </lookup>
        </binding>
        <property name="accessible-role">presentation</property>
      </object>
    </property>
  </template>
</interface>
