<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <template class="ContentRoomDetailsGeneralPage" parent="AdwPreferencesPage">
    <property name="title" translatable="yes">Room Details</property>
    <child>
      <object class="AdwPreferencesGroup">
        <style>
          <class name="room-details-group"/>
        </style>
        <child>
          <object class="ComponentsEditableAvatar" id="avatar">
            <accessibility>
              <property name="label" translatable="yes">Room Avatar</property>
            </accessibility>
            <binding name="editable">
              <lookup name="can-change-avatar">
                <lookup name="permissions">
                  <lookup name="room">ContentRoomDetailsGeneralPage</lookup>
                </lookup>
              </lookup>
            </binding>
            <binding name="data">
              <lookup name="avatar-data">
                <lookup name="room">ContentRoomDetailsGeneralPage</lookup>
              </lookup>
            </binding>
            <binding name="inhibit-remove">
              <closure type="gboolean" function="invert_boolean">
                <lookup name="has-avatar">
                  <lookup name="room">ContentRoomDetailsGeneralPage</lookup>
                </lookup>
              </closure>
            </binding>
          </object>
        </child>
        <child>
          <object class="GtkBox">
            <property name="spacing">6</property>
            <property name="orientation">vertical</property>
            <child>
              <object class="GtkEntry" id="room_name_entry">
                <property name="sensitive">false</property>
                <property name="activates-default">True</property>
                <property name="xalign">0.5</property>
                <property name="buffer">
                  <object class="GtkEntryBuffer" id="room_name_buffer">
                    <binding name="text">
                      <lookup name="display-name">
                        <lookup name="room">ContentRoomDetailsGeneralPage</lookup>
                      </lookup>
                    </binding>
                  </object>
                </property>
                <style>
                  <class name="room-details-name"/>
                </style>
              </object>
            </child>
            <child>
              <object class="GtkLabel" id="room_topic_label">
                <property name="visible">false</property>
                <property name="margin-top">12</property>
                <property name="label" translatable="yes">Description</property>
                <property name="halign">start</property>
                <style>
                  <class name="dim-label"/>
                  <class name="caption-heading"/>
                </style>
              </object>
            </child>
            <child>
              <object class="CustomEntry" id="room_topic_entry">
                <property name="sensitive">false</property>
                <property name="margin-bottom">18</property>
                <child>
                  <object class="GtkTextView" id="room_topic_text_view">
                    <property name="justification">center</property>
                    <property name="wrap-mode">word-char</property>
                    <property name="accepts-tab">False</property>
                    <property name="top-margin">7</property>
                    <property name="bottom-margin">7</property>
                    <property name="buffer">
                      <object class="GtkTextBuffer" id="room_topic_buffer">
                        <binding name="text">
                          <closure type="gchararray" function="unwrap_string_or_empty">
                            <lookup name="topic">
                              <lookup name="room">ContentRoomDetailsGeneralPage</lookup>
                            </lookup>
                          </closure>
                        </binding>
                      </object>
                    </property>
                  </object>
                </child>
                <style>
                  <class name="room-details-topic"/>
                </style>
              </object>
            </child>
            <child>
              <object class="GtkButton" id="edit_details_btn">
                <property name="can-shrink">true</property>
                <property name="halign">center</property>
                <property name="label" translatable="yes">Edit Details</property>
                <signal name="clicked" handler="edit_details_clicked" swapped="yes"/>
                <style>
                  <class name="pill" />
                </style>
              </object>
            </child>
            <child>
              <object class="SpinnerButton" id="save_details_btn">
                <property name="visible" bind-source="ContentRoomDetailsGeneralPage" bind-property="edit-mode-enabled" bind-flags="sync-create"/>
                <property name="halign">center</property>
                <property name="label" translatable="yes">Save Details</property>
                <signal name="clicked" handler="save_details_clicked" swapped="yes"/>
                <style>
                  <class name="pill" />
                </style>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
    <child>
      <object class="AdwPreferencesGroup">
        <child>
          <object class="AdwActionRow" id="members_row">
            <property name="accessible-role">button</property>
            <property name="icon-name">users-symbolic</property>
            <property name="action-name">details.show-subpage</property>
            <property name="action-target">'members'</property>
            <property name="activatable">True</property>
            <property name="selectable">False</property>
            <child type="suffix">
              <object class="GtkLabel" id="members_count">
                <property name="valign">center</property>
                <property name="halign">center</property>
                <property name="accessible-role">presentation</property>
              </object>
            </child>
            <child type="suffix">
              <object class="GtkImage">
                <property name="valign">center</property>
                <property name="halign">center</property>
                <property name="icon-name">go-next-symbolic</property>
                <property name="accessible-role">presentation</property>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
    <child>
      <object class="AdwPreferencesGroup">
        <child>
          <object class="AdwActionRow">
            <property name="accessible-role">button</property>
            <property name="title" translatable="yes">Media</property>
            <property name="action-name">details.show-subpage</property>
            <property name="action-target">'media-history'</property>
            <property name="activatable">True</property>
            <property name="selectable">False</property>
            <child type="suffix">
              <object class="GtkImage">
                <property name="valign">center</property>
                <property name="halign">center</property>
                <property name="icon-name">go-next-symbolic</property>
                <property name="accessible-role">presentation</property>
              </object>
            </child>
          </object>
        </child>
        <child>
          <object class="AdwActionRow">
            <property name="accessible-role">button</property>
            <property name="title" translatable="yes">Files</property>
            <property name="action-name">details.show-subpage</property>
            <property name="action-target">'file-history'</property>
            <property name="activatable">True</property>
            <property name="selectable">False</property>
            <child type="suffix">
              <object class="GtkImage">
                <property name="valign">center</property>
                <property name="halign">center</property>
                <property name="icon-name">go-next-symbolic</property>
                <property name="accessible-role">presentation</property>
              </object>
            </child>
          </object>
        </child>
        <child>
          <object class="AdwActionRow">
            <property name="accessible-role">button</property>
            <!-- Translators: As in 'Audio file'. -->
            <property name="title" translatable="yes">Audio</property>
            <property name="action-name">details.show-subpage</property>
            <property name="action-target">'audio-history'</property>
            <property name="activatable">True</property>
            <property name="selectable">False</property>
            <child type="suffix">
              <object class="GtkImage">
                <property name="valign">center</property>
                <property name="halign">center</property>
                <property name="icon-name">go-next-symbolic</property>
                <property name="accessible-role">presentation</property>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
    <child>
      <object class="AdwPreferencesGroup" id="notifications">
        <property name="title" translatable="yes">Notifications</property>
        <property name="description" translatable="yes">Which messages trigger notifications in this room.</property>
        <child>
          <object class="CheckLoadingRow" id="notifications_global_row">
            <property name="title" translatable="yes">Use the global setting</property>
            <property name="action-name">room.set-notifications-setting</property>
            <property name="action-target">'global'</property>
          </object>
        </child>
        <child>
          <object class="CheckLoadingRow" id="notifications_all_row">
            <property name="title" translatable="yes">All messages</property>
            <property name="action-name">room.set-notifications-setting</property>
            <property name="action-target">'all'</property>
          </object>
        </child>
        <child>
          <object class="CheckLoadingRow" id="notifications_mentions_row">
            <property name="title" translatable="yes">Only mentions and keywords</property>
            <property name="action-name">room.set-notifications-setting</property>
            <property name="action-target">'mentions-only'</property>
          </object>
        </child>
        <child>
          <object class="CheckLoadingRow" id="notifications_mute_row">
            <property name="title" translatable="yes">Disable notifications</property>
            <property name="action-name">room.set-notifications-setting</property>
            <property name="action-target">'mute'</property>
          </object>
        </child>
      </object>
    </child>
    <child>
      <object class="AdwPreferencesGroup">
        <property name="title" translatable="yes">Advanced Information</property>
        <child>
          <object class="AdwActionRow" id="room_id">
            <property name="selectable">False</property>
            <property name="title" translatable="yes">Matrix Room ID</property>
            <binding name="subtitle">
              <lookup name="room-id-string">
                <lookup name="room">ContentRoomDetailsGeneralPage</lookup>
              </lookup>
            </binding>
            <style>
              <class name="property"/>
            </style>
            <child>
              <object class="GtkButton">
                <property name="icon-name">copy-symbolic</property>
                <property name="tooltip-text" translatable="yes">Copy Matrix room ID to clipboard</property>
                <property name="valign">center</property>
                <signal name="clicked" handler="copy_room_id" swapped="yes"/>
                <style>
                  <class name="flat"/>
                </style>
              </object>
            </child>
          </object>
        </child>
        <child>
          <object class="AdwActionRow" id="room_version">
            <property name="selectable">False</property>
            <property name="title" translatable="yes">Room Version</property>
            <binding name="subtitle">
              <lookup name="version">
                <lookup name="room">ContentRoomDetailsGeneralPage</lookup>
              </lookup>
            </binding>
            <style>
              <class name="property"/>
            </style>
            <child>
              <object class="SpinnerButton" id="upgrade_button">
                <!-- Translators: In this string, 'Upgrade' is a verb, as in 'Upgrade Room'. -->
                <property name="label" translatable="yes">Upgrade</property>
                <property name="valign">center</property>
                <signal name="clicked" handler="upgrade" swapped="yes"/>
                <style>
                  <class name="destructive-action"/>
                </style>
              </object>
            </child>
          </object>
        </child>
        <child>
          <object class="AdwActionRow" id="room_federated">
            <property name="selectable">False</property>
            <property name="title" translatable="yes">Federation</property>
            <style>
              <class name="property"/>
            </style>
          </object>
        </child>
      </object>
    </child>
  </template>
</interface>
